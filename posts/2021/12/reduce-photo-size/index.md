# 如何批量压缩照片


-   如何批量压缩照片
    现在手机拍照出来的照片体积都很大，而手机厂商提供的云服务空间又有限，拍照片稍微多一点的话，空间很快就不够用了。周末去了趟径山寺玩，拍了点照片，我的小米云空间就频频告急了。
    我检查了一下，发现随便拍的风景照，体积都有十几到二十兆，这么大的照片，质量也许好一些，对摄影爱好者可能有些意义，但对我这种只是偶尔拍着记录一下的人来说，意义其实不大。

我希望减小照片体积，稍微损失点质量也无妨（完全可以控制在肉眼看不出来的程度）。一来可以减少空间占用，便于备份，二来如果放在图床引用的话，对网络的压力也小。

Linux 上用 ffmpeg 就可以很容易做到这件事。步骤如下：

```bash
mkdir output # output目录用来存放压缩后的照片文件 
ls *.jpg | xargs -I{} ffmpeg -i {} output/{}; # 用ffmpeg默认的参数效果就已经很好了
```

经过亲测，原先20M的照片，转换完成后只有1.8M，原先的 1/10
都不到。至于质量，我觉得完全可以接受，至少用肉眼，我是真的看不出来，作为记录或者展示，够用了！

ps: 照片文件最好还是用 jpg 格式，体积最小；我曾试了 png 和
webp，效果都不好，其中 png 采用无损压缩算法，还膨胀了好多倍，20M
转出来成了 60M。摄影图片一般色彩笔记丰富，jpg 才是最适合的格式。

